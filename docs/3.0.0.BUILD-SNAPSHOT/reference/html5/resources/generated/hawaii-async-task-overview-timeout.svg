<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2294px" preserveAspectRatio="none" style="width:2844px;height:2294px;" version="1.1" viewBox="0 0 2844 2294" width="2844px" zoomAndPan="magnify"><defs><filter height="300%" id="f1w1ahyfs0u7iu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="63.832" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="37" y="61.2969"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="37" y="1209.0313"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="337.3594" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="178" y="1238.1641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="178" y1="1238.1641" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="188" y1="1238.1641" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="188" y1="1238.1641" y2="1238.1641"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="605.9922" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="178" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="178" y1="1616.3281" y2="2222.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="188" y1="1616.3281" y2="2222.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="188" y1="2222.3203" y2="2222.3203"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="191.6953" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="309" y="1383.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="309" x2="309" y1="1383.8281" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319" x2="319" y1="1383.8281" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="309" x2="319" y1="1383.8281" y2="1383.8281"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="393.3281" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="309" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="309" x2="309" y1="1616.3281" y2="2009.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319" x2="319" y1="1616.3281" y2="2009.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="309" x2="319" y1="2009.6563" y2="2009.6563"/><rect fill="#9999FF" filter="url(#f1w1ahyfs0u7iu)" height="43.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="581" y="1852.125"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="1083.9023" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="674.5" y="125.1289"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="845.375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="905.5" y="334.5234"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="712.6797" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1113.5" y="438.0859"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1118.5" y="1013.0391"/><rect fill="#9999FF" filter="url(#f1w1ahyfs0u7iu)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1113.5" y="1737.293"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="308.2266" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1360.5" y="1267.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1360.5" x2="1360.5" y1="1267.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1370.5" x2="1370.5" y1="1267.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1360.5" x2="1370.5" y1="1267.2969" y2="1267.2969"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="576.8594" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1360.5" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1360.5" x2="1360.5" y1="1616.3281" y2="2193.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1370.5" x2="1370.5" y1="1616.3281" y2="2193.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1360.5" x2="1370.5" y1="2193.1875" y2="2193.1875"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="220.8281" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="1365.5" y="1354.6953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1365.5" x2="1365.5" y1="1354.6953" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1375.5" x2="1375.5" y1="1354.6953" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1365.5" x2="1375.5" y1="1354.6953" y2="1354.6953"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="428.4609" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="1365.5" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1365.5" x2="1365.5" y1="1616.3281" y2="2044.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1375.5" x2="1375.5" y1="1616.3281" y2="2044.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1365.5" x2="1375.5" y1="2044.7891" y2="2044.7891"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="508.6875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1501.5" y="467.2188"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="279.0938" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="1852" y="1296.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1852" x2="1852" y1="1296.4297" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1862" x2="1862" y1="1296.4297" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1852" x2="1862" y1="1296.4297" y2="1296.4297"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="547.8594" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="1852" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1852" x2="1852" y1="1616.3281" y2="2164.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1862" x2="1862" y1="1616.3281" y2="2164.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1852" x2="1862" y1="2164.1875" y2="2164.1875"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2030.5" y="683.2109"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2030.5" y="862.6406"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2030.5" y="1512.3906"/><rect fill="#9999FF" filter="url(#f1w1ahyfs0u7iu)" height="98.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2030.5" y="1695.5938"/><rect fill="#9999FF" filter="url(#f1w1ahyfs0u7iu)" height="128.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2030.5" y="1822.9922"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2030.5" y="2085.9219"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2354.5" y="595.7813"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="566.9531" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2541" y="408.9531"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="249.9609" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="2541" y="1325.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2541" x2="2541" y1="1325.5625" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2551" x2="2551" y1="1325.5625" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2541" x2="2551" y1="1325.5625" y2="1325.5625"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="533.7266" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="2541" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2541" x2="2541" y1="1616.3281" y2="2150.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2551" x2="2551" y1="1616.3281" y2="2150.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2541" x2="2551" y1="2150.0547" y2="2150.0547"/><rect fill="#9999FF" filter="url(#f1w1ahyfs0u7iu)" height="314.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2546" y="1666.4609"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="308.2266" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="2695" y="1267.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2695" x2="2695" y1="1267.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2705" x2="2705" y1="1267.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2695" x2="2705" y1="1267.2969" y2="1267.2969"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="547.8594" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="2695" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2695" x2="2695" y1="1616.3281" y2="2164.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2705" x2="2705" y1="1616.3281" y2="2164.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2695" x2="2705" y1="2164.1875" y2="2164.1875"/><rect fill="#9999FF" filter="url(#f1w1ahyfs0u7iu)" height="343.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2791.5" y="1637.3281"/><rect fill="#94B57E" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="1330" y="268.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="1337" y="288.2217">Callable</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="1958.5" y="342.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="1965.5" y="362.6514">SharedTaskContext</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="2122.5" y="529.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="2129.5" y="549.4795">TimeoutGuardTask</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="2754.5" y="648.9092">guard-&lt;n&gt;</text><ellipse cx="2796.5" cy="619.9141" fill="#EEEEEE" filter="url(#f1w1ahyfs0u7iu)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="2792.5,607.9141,2798.5,602.9141,2796.5,607.9141,2798.5,612.9141,2792.5,607.9141" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="1765.5" y="771.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="1772.5" y="791.3389">AbortableTaskRunnable</text><rect fill="#EEEEEE" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="108" y="1026.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="115" y="1046.167">CompletableFuture</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="2655.5" y="1116.4639">thread-&lt;n&gt;</text><ellipse cx="2700" cy="1087.4688" fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="2696,1075.4688,2702,1070.4688,2700,1075.4688,2702,1080.4688,2696,1075.4688" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="530" y="1446.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="537" y="1466.0889">AbortStrategy</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="42" y1="51.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="42" x2="42" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="42" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="183" x2="183" y1="1058.8203" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="183" x2="183" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="183" x2="183" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="314" x2="314" y1="51.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="314" x2="314" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="314" x2="314" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="445" x2="445" y1="51.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="445" x2="445" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="445" x2="445" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="586" x2="586" y1="1478.7422" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="586" x2="586" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="586" x2="586" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679" x2="679" y1="51.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="679" x2="679" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="679" x2="679" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="910.5" x2="910.5" y1="51.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="910.5" x2="910.5" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="910.5" x2="910.5" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1118" x2="1118" y1="51.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1118" x2="1118" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1118" x2="1118" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1365" x2="1365" y1="300.875" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1365" x2="1365" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1365" x2="1365" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1506.5" x2="1506.5" y1="51.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1506.5" x2="1506.5" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1506.5" x2="1506.5" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1856.5" x2="1856.5" y1="803.9922" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1856.5" x2="1856.5" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1856.5" x2="1856.5" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2035.5" x2="2035.5" y1="375.3047" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="2035.5" x2="2035.5" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2035.5" x2="2035.5" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2197.5" x2="2197.5" y1="562.1328" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="2197.5" x2="2197.5" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2197.5" x2="2197.5" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2359.5" x2="2359.5" y1="51.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="2359.5" x2="2359.5" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2359.5" x2="2359.5" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2545.5" x2="2545.5" y1="51.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="2545.5" x2="2545.5" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2545.5" x2="2545.5" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2699.5" x2="2699.5" y1="1110.6172" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="2699.5" x2="2699.5" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2699.5" x2="2699.5" y1="1616.3281" y2="2240.4531"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2796.5" x2="2796.5" y1="643.0625" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="2796.5" x2="2796.5" y1="1575.5234" y2="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2796.5" x2="2796.5" y1="1616.3281" y2="2240.4531"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="8" y="16"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="15" y="35.9951">Service</text><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="8" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="15" y="2259.4482">Service</text><rect fill="#EEEEEE" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="108" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="115" y="2259.4482">CompletableFuture</text><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="268" y="16"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="275" y="35.9951">Repository</text><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="268" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="275" y="2259.4482">Repository</text><rect fill="#EEEEEE" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="370" y="16"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="377" y="35.9951">CompletableFuture</text><rect fill="#EEEEEE" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="370" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="377" y="2259.4482">CompletableFuture</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="530" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="537" y="2259.4482">AbortStrategy</text><rect fill="#94B57E" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="652" y="16"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="659" y="35.9951">Proxy</text><rect fill="#94B57E" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="652" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="659" y="2259.4482">Proxy</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="833.5" y="16"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="840.5" y="35.9951">DelegatingExecutor</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="833.5" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="840.5" y="2259.4482">DelegatingExecutor</text><rect fill="#94B57E" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="1023" y="16"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="1030" y="35.9951">ThreadPoolTaskExecutor</text><rect fill="#94B57E" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="1023" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="1030" y="2259.4482">ThreadPoolTaskExecutor</text><rect fill="#94B57E" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="1330" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="1337" y="2259.4482">Callable</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="1413.5" y="16"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="1420.5" y="35.9951">AbortableTaskDecorator</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="1413.5" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="1420.5" y="2259.4482">AbortableTaskDecorator</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="1765.5" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="1772.5" y="2259.4482">AbortableTaskRunnable</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="1958.5" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="1965.5" y="2259.4482">SharedTaskContext</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="2122.5" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="2129.5" y="2259.4482">TimeoutGuardTask</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="2282.5" y="16"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="2289.5" y="35.9951">GuardTaskExecutor</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="2282.5" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="2289.5" y="2259.4482">GuardTaskExecutor</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="2446.5" y="16"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="181" x="2453.5" y="35.9951">SharedTaskContextHolder</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="2446.5" y="2239.4531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="181" x="2453.5" y="2259.4482">SharedTaskContextHolder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="2655.5" y="2252.4482">thread-&lt;n&gt;</text><ellipse cx="2700" cy="2271.75" fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="2696,2259.75,2702,2254.75,2700,2259.75,2702,2264.75,2696,2259.75" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="2754.5" y="2252.4482">guard-&lt;n&gt;</text><ellipse cx="2796.5" cy="2271.75" fill="#EEEEEE" filter="url(#f1w1ahyfs0u7iu)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="2792.5,2259.75,2798.5,2254.75,2796.5,2259.75,2798.5,2264.75,2792.5,2259.75" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="63.832" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="37" y="61.2969"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="37" y="1209.0313"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="337.3594" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="178" y="1238.1641"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="178" y1="1238.1641" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="188" y1="1238.1641" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="188" y1="1238.1641" y2="1238.1641"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="605.9922" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="178" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="178" y1="1616.3281" y2="2222.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="188" y1="1616.3281" y2="2222.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="178" x2="188" y1="2222.3203" y2="2222.3203"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="191.6953" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="309" y="1383.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="309" x2="309" y1="1383.8281" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319" x2="319" y1="1383.8281" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="309" x2="319" y1="1383.8281" y2="1383.8281"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="393.3281" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="309" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="309" x2="309" y1="1616.3281" y2="2009.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319" x2="319" y1="1616.3281" y2="2009.6563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="309" x2="319" y1="2009.6563" y2="2009.6563"/><rect fill="#9999FF" filter="url(#f1w1ahyfs0u7iu)" height="43.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="581" y="1852.125"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="1083.9023" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="674.5" y="125.1289"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="845.375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="905.5" y="334.5234"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="712.6797" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1113.5" y="438.0859"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="34.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1118.5" y="1013.0391"/><rect fill="#9999FF" filter="url(#f1w1ahyfs0u7iu)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1113.5" y="1737.293"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="308.2266" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1360.5" y="1267.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1360.5" x2="1360.5" y1="1267.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1370.5" x2="1370.5" y1="1267.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1360.5" x2="1370.5" y1="1267.2969" y2="1267.2969"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="576.8594" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1360.5" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1360.5" x2="1360.5" y1="1616.3281" y2="2193.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1370.5" x2="1370.5" y1="1616.3281" y2="2193.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1360.5" x2="1370.5" y1="2193.1875" y2="2193.1875"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="220.8281" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="1365.5" y="1354.6953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1365.5" x2="1365.5" y1="1354.6953" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1375.5" x2="1375.5" y1="1354.6953" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1365.5" x2="1375.5" y1="1354.6953" y2="1354.6953"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="428.4609" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="1365.5" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1365.5" x2="1365.5" y1="1616.3281" y2="2044.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1375.5" x2="1375.5" y1="1616.3281" y2="2044.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1365.5" x2="1375.5" y1="2044.7891" y2="2044.7891"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="508.6875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1501.5" y="467.2188"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="279.0938" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="1852" y="1296.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1852" x2="1852" y1="1296.4297" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1862" x2="1862" y1="1296.4297" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1852" x2="1862" y1="1296.4297" y2="1296.4297"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="547.8594" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="1852" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1852" x2="1852" y1="1616.3281" y2="2164.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1862" x2="1862" y1="1616.3281" y2="2164.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1852" x2="1862" y1="2164.1875" y2="2164.1875"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2030.5" y="683.2109"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2030.5" y="862.6406"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2030.5" y="1512.3906"/><rect fill="#9999FF" filter="url(#f1w1ahyfs0u7iu)" height="98.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2030.5" y="1695.5938"/><rect fill="#9999FF" filter="url(#f1w1ahyfs0u7iu)" height="128.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2030.5" y="1822.9922"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2030.5" y="2085.9219"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2354.5" y="595.7813"/><rect fill="#FFFFFF" filter="url(#f1w1ahyfs0u7iu)" height="566.9531" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2541" y="408.9531"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="249.9609" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="2541" y="1325.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2541" x2="2541" y1="1325.5625" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2551" x2="2551" y1="1325.5625" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2541" x2="2551" y1="1325.5625" y2="1325.5625"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="533.7266" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="2541" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2541" x2="2541" y1="1616.3281" y2="2150.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2551" x2="2551" y1="1616.3281" y2="2150.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2541" x2="2551" y1="2150.0547" y2="2150.0547"/><rect fill="#9999FF" filter="url(#f1w1ahyfs0u7iu)" height="314.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2546" y="1666.4609"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="308.2266" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="2695" y="1267.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2695" x2="2695" y1="1267.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2705" x2="2705" y1="1267.2969" y2="1575.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2695" x2="2705" y1="1267.2969" y2="1267.2969"/><rect fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" height="547.8594" style="stroke: #EECCEE; stroke-width: 1.0;" width="10" x="2695" y="1616.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2695" x2="2695" y1="1616.3281" y2="2164.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2705" x2="2705" y1="1616.3281" y2="2164.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2695" x2="2705" y1="2164.1875" y2="2164.1875"/><rect fill="#9999FF" filter="url(#f1w1ahyfs0u7iu)" height="343.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2791.5" y="1637.3281"/><polygon fill="#A80036" points="662.5,121.1289,672.5,125.1289,662.5,129.1289,666.5,125.1289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="668.5" y1="125.1289" y2="125.1289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="49" y="120.1958">getUser()</text><path d="M689,66.2969 L689,166.2969 L1731,166.2969 L1731,76.2969 L1721,66.2969 L689,66.2969 " fill="#FBFB77" filter="url(#f1w1ahyfs0u7iu)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1721,66.2969 L1721,76.2969 L1731,76.2969 L1721,66.2969 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="695" y="83.3638">The</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="722" y="83.3638">Repository#getUser()</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="886" y="83.3638">method is annotation with the</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="1081" y="83.3638">@Async</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="431" x="1133" y="83.3638">annotation. The annotation may contain the Spring bean name of a</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="1568" y="83.3638">ThreadPoolExecutor</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="1712" y="83.3638">.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="368" x="695" y="98.4966">This allows looking up specific executors for specific tasks.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="699" y="113.6294"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="695" y="128.7622">Each task</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="761" y="128.7622">must</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="802" y="128.7622">be configured in order create a</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="1003" y="128.7622">DelegatingExecutor</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="426" x="1151" y="128.7622">for it. The executor is registered under the configured task's name.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="699" y="143.895"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="695" y="159.0278">In this sequence the</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="828" y="159.0278">DelegatingExecutor</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="976" y="159.0278">is registered under the name</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="1166" y="159.0278">repo.get_user</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="684.5" x2="726.5" y1="222.2266" y2="222.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="726.5" x2="726.5" y1="222.2266" y2="235.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="685.5" x2="726.5" y1="235.2266" y2="235.2266"/><polygon fill="#A80036" points="695.5,231.2266,685.5,235.2266,695.5,239.2266,691.5,235.2266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="691.5" y="217.1606">findExecutor( '</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="782.5" y="217.1606">repo.get_user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="886.5" y="217.1606">' )</text><polygon fill="#A80036" points="1318,285.2266,1328,289.2266,1318,293.2266,1322,289.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="684.5" x2="1324" y1="289.2266" y2="289.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="691.5" y="284.2935">new</text><rect fill="#94B57E" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="1330" y="268.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="1337" y="288.2217">Callable</text><polygon fill="#A80036" points="893.5,330.5234,903.5,334.5234,893.5,338.5234,897.5,334.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="684.5" x2="899.5" y1="334.5234" y2="334.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="691.5" y="329.5903">execute( callable )</text><polygon fill="#A80036" points="1946.5,359.6563,1956.5,363.6563,1946.5,367.6563,1950.5,363.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="1952.5" y1="363.6563" y2="363.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="922.5" y="358.7231">new( )</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="1958.5" y="342.6563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="1965.5" y="362.6514">SharedTaskContext</text><polygon fill="#A80036" points="2529,404.9531,2539,408.9531,2529,412.9531,2533,408.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="2535" y1="408.9531" y2="408.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="922.5" y="404.02">register( sharedTaskContext )</text><polygon fill="#A80036" points="1101.5,434.0859,1111.5,438.0859,1101.5,442.0859,1105.5,438.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="1107.5" y1="438.0859" y2="438.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="922.5" y="433.1528">execute( callable )</text><polygon fill="#A80036" points="1489.5,463.2188,1499.5,467.2188,1489.5,471.2188,1493.5,467.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1123.5" x2="1495.5" y1="467.2188" y2="467.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="1130.5" y="462.2856">decorate( callable )</text><polygon fill="#A80036" points="2529,492.3516,2539,496.3516,2529,500.3516,2533,496.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1511.5" x2="2535" y1="496.3516" y2="496.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="1518.5" y="491.4185">sharedTaskContext = get( )</text><polygon fill="#A80036" points="2110.5,546.4844,2120.5,550.4844,2110.5,554.4844,2114.5,550.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1511.5" x2="2116.5" y1="550.4844" y2="550.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="1518.5" y="545.5513">new( sharedTaskContext )</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="2122.5" y="529.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="2129.5" y="549.4795">TimeoutGuardTask</text><polygon fill="#A80036" points="2342.5,591.7813,2352.5,595.7813,2342.5,599.7813,2346.5,595.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1511.5" x2="2348.5" y1="595.7813" y2="595.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="334" x="1518.5" y="590.8481">schedule( guard, sharedTaskContext.getTimeout( ) )</text><polygon fill="#CCCCCC" points="2742.5,620.9141,2752.5,624.9141,2742.5,628.9141,2746.5,624.9141" style="stroke: #CCCCCC; stroke-width: 1.0;"/><line style="stroke: #CCCCCC; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2359.5" x2="2748.5" y1="624.9141" y2="624.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="2366.5" y="619.981">new</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="2754.5" y="648.9092">guard-&lt;n&gt;</text><ellipse cx="2796.5" cy="619.9141" fill="#EEEEEE" filter="url(#f1w1ahyfs0u7iu)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="2792.5,607.9141,2798.5,602.9141,2796.5,607.9141,2798.5,612.9141,2792.5,607.9141" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2018.5,679.2109,2028.5,683.2109,2018.5,687.2109,2022.5,683.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1511.5" x2="2024.5" y1="683.2109" y2="683.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="302" x="1518.5" y="678.2778">registerRemoveTimeoutGuardStrategy( guard )</text><polygon fill="#A80036" points="1753.5,788.3438,1763.5,792.3438,1753.5,796.3438,1757.5,792.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1511.5" x2="1759.5" y1="792.3438" y2="792.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="1518.5" y="787.4106">new( runnable, sharedTaskContext )</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="1765.5" y="771.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="1772.5" y="791.3389">AbortableTaskRunnable</text><polygon fill="#A80036" points="2018.5,858.6406,2028.5,862.6406,2018.5,866.6406,2022.5,862.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1511.5" x2="2024.5" y1="862.6406" y2="862.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="1518.5" y="857.7075">registerRemovalStrategy( guarded )</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1123.5" x2="1133.5" y1="946.7734" y2="942.7734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1123.5" x2="1133.5" y1="946.7734" y2="950.7734"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1123.5" x2="1500.5" y1="946.7734" y2="946.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="1140.5" y="941.8403">abortableTaskRunnable</text><polygon fill="#A80036" points="2534,971.9063,2544,975.9063,2534,979.9063,2538,975.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1506.5" x2="2540" y1="975.9063" y2="975.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="1513.5" y="970.9731">remove()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1123.5" x2="1170.5" y1="1000.1719" y2="1000.1719"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1170.5" x2="1170.5" y1="1000.1719" y2="1013.1719"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1129.5" x2="1170.5" y1="1013.1719" y2="1013.1719"/><polygon fill="#A80036" points="1139.5,1009.1719,1129.5,1013.1719,1139.5,1017.1719,1135.5,1013.1719" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="1135.5" y="995.106">enqueue( abortableTaskRunnable )</text><polygon fill="#A80036" points="269,1043.1719,259,1047.1719,269,1051.1719,265,1047.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="1112.5" y1="1047.1719" y2="1047.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="275" y="1042.2388">new</text><rect fill="#EEEEEE" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="108" y="1026.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="115" y="1046.167">CompletableFuture</text><polygon fill="#CCCCCC" points="2643.5,1088.4688,2653.5,1092.4688,2643.5,1096.4688,2647.5,1092.4688" style="stroke: #CCCCCC; stroke-width: 1.0;"/><line style="stroke: #CCCCCC; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1123.5" x2="2649.5" y1="1092.4688" y2="1092.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="1130.5" y="1087.5356">new</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="2655.5" y="1116.4639">thread-&lt;n&gt;</text><ellipse cx="2700" cy="1087.4688" fill="#EECCEE" filter="url(#f1w1ahyfs0u7iu)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="2696,1075.4688,2702,1070.4688,2700,1075.4688,2702,1080.4688,2696,1075.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="925.5" y1="1150.7656" y2="1146.7656"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="925.5" y1="1150.7656" y2="1154.7656"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="915.5" x2="1117.5" y1="1150.7656" y2="1150.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="932.5" y="1145.8325">CompletableFuture&lt;User&gt;</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="684.5" x2="694.5" y1="1179.8984" y2="1175.8984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="684.5" x2="694.5" y1="1179.8984" y2="1183.8984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="684.5" x2="909.5" y1="1179.8984" y2="1179.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="701.5" y="1174.9653">CompletableFuture&lt;User&gt;</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="57" y1="1209.0313" y2="1205.0313"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="47" x2="57" y1="1209.0313" y2="1213.0313"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="47" x2="678.5" y1="1209.0313" y2="1209.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="64" y="1204.0981">CompletableFuture&lt;User&gt;</text><polygon fill="#A80036" points="166,1234.1641,176,1238.1641,166,1242.1641,170,1238.1641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="42" x2="172" y1="1238.1641" y2="1238.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="49" y="1233.231">get()</text><polygon fill="#A80036" points="1348.5,1263.2969,1358.5,1267.2969,1348.5,1271.2969,1352.5,1267.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="1354.5" y1="1267.2969" y2="1267.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="195" y="1262.3638">get()</text><polygon fill="#A80036" points="1873,1292.4297,1863,1296.4297,1873,1300.4297,1869,1296.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1867" x2="2694" y1="1296.4297" y2="1296.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="1879" y="1291.4966">run</text><polygon fill="#A80036" points="2529,1321.5625,2539,1325.5625,2529,1329.5625,2533,1325.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1862" x2="2535" y1="1325.5625" y2="1325.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="1869" y="1320.6294">register( sharedTaskContext )</text><polygon fill="#A80036" points="1386.5,1350.6953,1376.5,1354.6953,1386.5,1358.6953,1382.5,1354.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1380.5" x2="1851" y1="1354.6953" y2="1354.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="1392.5" y="1349.7622">run</text><polygon fill="#A80036" points="330,1379.8281,320,1383.8281,330,1387.8281,326,1383.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="1364.5" y1="1383.8281" y2="1383.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="336" y="1378.895">getUser()</text><polygon fill="#A80036" points="2529,1433.9609,2539,1437.9609,2529,1441.9609,2533,1437.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319" x2="2535" y1="1437.9609" y2="1437.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="326" y="1433.0278">sharedContext = get( )</text><polygon fill="#A80036" points="518,1463.0938,528,1467.0938,518,1471.0938,522,1467.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319" x2="524" y1="1467.0938" y2="1467.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="326" y="1462.1606">new( ... )</text><rect fill="#99CCFF" filter="url(#f1w1ahyfs0u7iu)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="530" y="1446.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="537" y="1466.0889">AbortStrategy</text><polygon fill="#A80036" points="2018.5,1508.3906,2028.5,1512.3906,2018.5,1516.3906,2022.5,1512.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319" x2="2024.5" y1="1512.3906" y2="1512.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246" x="326" y="1507.4575">registerAbortStrategy( abortStrategy )</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1360.75" y="1599.7339"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="1360.75" y="1599.7339">This takes a while</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1481.75" y="1599.7339"/><polygon fill="#9999FF" points="2779.5,1633.3281,2789.5,1637.3281,2779.5,1641.3281,2783.5,1637.3281" style="stroke: #9999FF; stroke-width: 1.0;"/><line style="stroke: #9999FF; stroke-width: 1.0;" x1="2359.5" x2="2785.5" y1="1637.3281" y2="1637.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="2366.5" y="1632.395">timeout</text><polygon fill="#A80036" points="2567,1662.4609,2557,1666.4609,2567,1670.4609,2563,1666.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2561" x2="2790.5" y1="1666.4609" y2="1666.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="2573" y="1661.5278">register( sharedTaskContext )</text><polygon fill="#A80036" points="2051.5,1691.5938,2041.5,1695.5938,2051.5,1699.5938,2047.5,1695.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2045.5" x2="2790.5" y1="1695.5938" y2="1695.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="2057.5" y="1690.6606">removeTask( )</text><polygon fill="#A80036" points="1134.5,1733.293,1124.5,1737.293,1134.5,1741.293,1130.5,1737.293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1128.5" x2="2029.5" y1="1737.293" y2="1737.293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="1140.5" y="1732.3599">remove( AbortableTaskRunnable )</text><path d="M848,1708.7266 L848,1748.7266 L1104,1748.7266 L1104,1718.7266 L1094,1708.7266 L848,1708.7266 " fill="#FBFB77" filter="url(#f1w1ahyfs0u7iu)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1094,1708.7266 L1094,1718.7266 L1104,1718.7266 L1094,1708.7266 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="854" y="1725.7935">Since the</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="918" y="1725.7935">AbortableTaskRunnable</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="854" y="1740.9263">is already running, this does nothing.</text><line style="stroke: #CCCCCC; stroke-width: 1.0;" x1="2789.5" x2="2779.5" y1="1793.9922" y2="1789.9922"/><line style="stroke: #CCCCCC; stroke-width: 1.0;" x1="2789.5" x2="2779.5" y1="1793.9922" y2="1797.9922"/><line style="stroke: #CCCCCC; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2035.5" x2="2790.5" y1="1793.9922" y2="1793.9922"/><polygon fill="#A80036" points="2051.5,1818.9922,2041.5,1822.9922,2051.5,1826.9922,2047.5,1822.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2045.5" x2="2790.5" y1="1822.9922" y2="1822.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="2057.5" y="1818.0591">abortTask( )</text><polygon fill="#A80036" points="602,1848.125,592,1852.125,602,1856.125,598,1852.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="596" x2="2029.5" y1="1852.125" y2="1852.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="608" y="1847.1919">invoke( )</text><polygon fill="#A80036" points="330,1877.2578,320,1881.2578,330,1885.2578,326,1881.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="580" y1="1881.2578" y2="1881.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="336" y="1876.3247">force_stop_working( )</text><line style="stroke: #CCCCCC; stroke-width: 1.0;" x1="2028.5" x2="2018.5" y1="1895.3906" y2="1891.3906"/><line style="stroke: #CCCCCC; stroke-width: 1.0;" x1="2028.5" x2="2018.5" y1="1895.3906" y2="1899.3906"/><line style="stroke: #CCCCCC; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="586" x2="2029.5" y1="1895.3906" y2="1895.3906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2040.5" x2="2082.5" y1="1924.5234" y2="1924.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2082.5" x2="2082.5" y1="1924.5234" y2="1937.5234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2041.5" x2="2082.5" y1="1937.5234" y2="1937.5234"/><polygon fill="#A80036" points="2051.5,1933.5234,2041.5,1937.5234,2051.5,1941.5234,2047.5,1937.5234" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="2047.5" y="1919.4575">setAborted( )</text><line style="stroke: #CCCCCC; stroke-width: 1.0;" x1="2789.5" x2="2779.5" y1="1951.5234" y2="1947.5234"/><line style="stroke: #CCCCCC; stroke-width: 1.0;" x1="2789.5" x2="2779.5" y1="1951.5234" y2="1955.5234"/><line style="stroke: #CCCCCC; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2035.5" x2="2790.5" y1="1951.5234" y2="1951.5234"/><polygon fill="#A80036" points="2562,1976.5234,2552,1980.5234,2562,1984.5234,2558,1980.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2556" x2="2795.5" y1="1980.5234" y2="1980.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="2568" y="1975.5903">remove( )</text><line style="stroke: #FF0000; stroke-width: 1.0;" x1="1363.5" x2="1353.5" y1="2009.6563" y2="2005.6563"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="1363.5" x2="1353.5" y1="2009.6563" y2="2013.6563"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="314" x2="1364.5" y1="2009.6563" y2="2009.6563"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="361" y="2004.7231">Exception</text><line style="stroke: #FF0000; stroke-width: 1.0;" x1="1375.5" x2="1417.5" y1="2043.9219" y2="2043.9219"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="1417.5" x2="1417.5" y1="2043.9219" y2="2056.9219"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="1370.5" x2="1417.5" y1="2056.9219" y2="2056.9219"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="1370.5" x2="1380.5" y1="2056.9219" y2="2052.9219"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="1370.5" x2="1380.5" y1="2056.9219" y2="2060.9219"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="1422.5" y="2038.856">Exception</text><polygon fill="#A80036" points="2018.5,2081.9219,2028.5,2085.9219,2018.5,2089.9219,2022.5,2085.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1862" x2="2024.5" y1="2085.9219" y2="2085.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="1869" y="2080.9888">finish()</text><path d="M2045,2064.9219 L2045,2089.9219 L2486,2089.9219 L2486,2074.9219 L2476,2064.9219 L2045,2064.9219 " fill="#FBFB77" filter="url(#f1w1ahyfs0u7iu)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2476,2064.9219 L2476,2074.9219 L2486,2074.9219 L2476,2064.9219 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="2051" y="2081.9888">Since the task is aborted the</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="2239" y="2081.9888">TimeoutGuardTask</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="2371" y="2081.9888">is not removed.</text><polygon fill="#A80036" points="2534,2146.0547,2544,2150.0547,2534,2154.0547,2538,2150.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1862" x2="2540" y1="2150.0547" y2="2150.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="1869" y="2145.1216">remove()</text><line style="stroke: #CCCCCC; stroke-width: 1.0;" x1="2698" x2="2688" y1="2164.1875" y2="2160.1875"/><line style="stroke: #CCCCCC; stroke-width: 1.0;" x1="2698" x2="2688" y1="2164.1875" y2="2168.1875"/><line style="stroke: #CCCCCC; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1857" x2="2699" y1="2164.1875" y2="2164.1875"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="188" x2="198" y1="2193.1875" y2="2189.1875"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="188" x2="198" y1="2193.1875" y2="2197.1875"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="188" x2="1364.5" y1="2193.1875" y2="2193.1875"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="245" y="2188.2544">Exception</text><line style="stroke: #FF0000; stroke-width: 1.0;" x1="42" x2="52" y1="2222.3203" y2="2218.3203"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="42" x2="52" y1="2222.3203" y2="2226.3203"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="42" x2="182" y1="2222.3203" y2="2222.3203"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="99" y="2217.3872">Exception</text><!--
@startuml


participant svc as "Service" #fff
participant future as "CompletableFuture" #eee
participant repo as "Repository" #fff
participant future_2 as "CompletableFuture" #eee
participant abort as "AbortStrategy" #99ccff
participant proxy as "Proxy" #94b57e
participant delegating_exec as "DelegatingExecutor" #99ccff
participant executor as "ThreadPoolTaskExecutor" #94b57e
participant callable as "Callable" #94b57e

participant decorator as "AbortableTaskDecorator" #99ccff
participant guarded as "AbortableTaskRunnable" #99ccff
participant shared as "SharedTaskContext" #99ccff
participant guard as "TimeoutGuardTask" #99ccff
participant guard_executor as "GuardTaskExecutor" #99ccff
participant thread_local as "SharedTaskContextHolder" #99ccff

control thread as "thread-<n>" #ece

control guard_thread as "guard-<n>" #eee

activate svc
  svc -> proxy : getUser()
deactivate svc
note right
  The ""Repository#getUser()"" method is annotation with the ""@Async"" annotation. The annotation may contain the Spring bean name of a ""ThreadPoolExecutor"".
  This allows looking up specific executors for specific tasks.

  Each task **must** be configured in order create a ""DelegatingExecutor"" for it. The executor is registered under the configured task's name.

  In this sequence the ""DelegatingExecutor"" is registered under the name ""repo.get_user""
end note
|||
activate proxy

  proxy -> proxy : findExecutor( '""repo.get_user""' )
  |||

  create callable
  proxy -> callable : new
  proxy -> delegating_exec : execute( callable )

  activate delegating_exec
    create shared
    delegating_exec -> shared : new( )

    delegating_exec -> thread_local : register( sharedTaskContext )
    activate thread_local

    delegating_exec -> executor : execute( callable )
    activate executor
      executor -> decorator : decorate( callable )
      activate decorator
        decorator -> thread_local : sharedTaskContext = get( )
        |||

        create guard
        decorator -> guard : new( sharedTaskContext )
        decorator -> guard_executor : schedule( guard, sharedTaskContext.getTimeout( ) )
        activate guard_executor
          create guard_thread
          guard_executor -[#ccc]-> guard_thread : new
        deactivate guard_executor
        decorator -> shared : registerRemoveTimeoutGuardStrategy( guard )
        activate shared
        deactivate shared
        |||
        |||
        create guarded
        decorator -> guarded : new( runnable, sharedTaskContext )

        |||
        decorator -> shared : registerRemovalStrategy( guarded )
        activate shared
        deactivate shared
        |||

        decorator - ->> executor : abortableTaskRunnable

        decorator -> thread_local : remove()
        deactivate thread_local
      deactivate decorator

      executor -> executor : enqueue( abortableTaskRunnable )
      activate executor
        create future
        executor -> future : new
      deactivate executor

      create thread
      executor -[#ccc]-> thread : new


      executor - ->> delegating_exec : CompletableFuture<User>
    deactivate executor
    delegating_exec - ->> proxy : CompletableFuture<User>
  deactivate delegating_exec
  proxy - ->> svc : CompletableFuture<User>
deactivate proxy


activate svc
  svc -> future : get()
deactivate svc

activate future
  future -> callable : get()
  activate callable

activate thread #ece
  thread -> guarded : run
  activate guarded #ece
    guarded -> thread_local : register( sharedTaskContext )
    activate thread_local #ece

    guarded -> callable : run
    activate callable #ece
      callable -> repo : getUser()

      activate repo #ece
        |||
        repo -> thread_local : sharedContext = get( )
        create abort
        repo -> abort : new( ... )
        repo -> shared : registerAbortStrategy( abortStrategy )
        activate shared #ece
        deactivate shared
        |||
        ... **This takes a while** ...

        guard_executor -[#99f]> guard_thread : timeout
        activate guard_thread #99f
          guard_thread -> thread_local : register( sharedTaskContext )
          activate thread_local #99f

          guard_thread -> shared : removeTask( )
          activate shared #99f
            shared -> executor : remove( AbortableTaskRunnable )
            activate executor #99f
              note left
                Since the ""AbortableTaskRunnable""
                is already running, this does nothing.
              end note
            deactivate executor
            shared -[#ccc]->> guard_thread
          deactivate shared

          guard_thread -> shared : abortTask( )

          activate shared #99f
            shared -> abort : invoke( )
            activate abort #99f
              abort -> repo : force_stop_working( )

              abort -[#ccc]->> shared
            deactivate abort
            shared -> shared : setAborted( )

            shared -[#ccc]->> guard_thread
          deactivate shared
          guard_thread -> thread_local : remove( )
          deactivate thread_local
        deactivate guard_thread
        repo -[#f00]>> callable : **<font color="#ff0000">\tException</font>**
      deactivate repo
      callable -[#f00]>> callable : **<font color="#ff0000">\tException</font>**
    deactivate callable

    guarded -> shared : finish()
    activate shared #ece
      note right
        Since the task is aborted the ""TimeoutGuardTask"" is not removed.
      end note
    deactivate shared
    guarded -> thread_local : remove()
    deactivate thread_local
    guarded -[#ccc]->> thread
  deactivate guarded
deactivate thread

    callable -[#f00]>> future : **<font color="#ff0000">\tException</font>**
  deactivate callable

  future -[#f00]>> svc : **<font color="#ff0000">\tException</font>**
deactivate future
@enduml

PlantUML version 1.2018.01(Sun Jan 28 18:08:22 UTC 2018)
(APACHE source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 11.0.2+9-LTS
Operating System: Linux
OS Version: 4.4.0-101-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>